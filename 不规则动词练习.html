<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ä¸è§„åˆ™åŠ¨è¯ç»ƒä¹ </title>
  <style>
    :root{--bg:#f7f7f8;--card:#ffffff;--accent:#2b8aef;--ok:#28a745;--bad:#dc3545;--muted:#6b7280}
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial}
    body{background:var(--bg);display:flex;align-items:center;justify-content:center;padding:18px}
    .wrap{width:100%;max-width:740px}
    header{display:flex;align-items:center;gap:12px;margin-bottom:14px}
    h1{font-size:18px;margin:0}
    .card{background:var(--card);border-radius:12px;padding:14px;box-shadow:0 4px 18px rgba(20,20,30,0.06)}
    .verb-large{font-size:36px;font-weight:700;letter-spacing:0.6px;margin:8px 0}
    .row{display:flex;gap:8px}
    .input{flex:1}
    input[type=text]{width:100%;padding:12px;border-radius:8px;border:1px solid #e6e7eb;font-size:16px}
    input[type=text].ok{border-color:var(--ok);background:rgba(40,167,69,0.06)}
    input[type=text].bad{border-color:var(--bad);background:rgba(220,53,69,0.04)}
    select{width:100%;padding:10px;border-radius:8px;margin-bottom:8px;font-size:16px}
    .controls{display:flex;gap:8px;margin-top:12px;flex-wrap:wrap}
    button{padding:10px 12px;border-radius:10px;border:0;background:var(--accent);color:#fff;font-weight:600}
    button.secondary{background:#f1f5f9;color:#111;border:1px solid #e6e7eb}
    .muted{color:var(--muted);font-size:13px}
    .status{display:flex;gap:8px;align-items:center;margin-top:10px;font-size:14px}
    .status .dot{width:12px;height:12px;border-radius:50%}
    .progress{height:8px;background:#e9ecef;border-radius:8px;overflow:hidden;margin-top:10px}
    .progress > i{display:block;height:100%;background:linear-gradient(90deg,var(--accent),#6bdeff)}
    footer{margin-top:12px;text-align:center;color:var(--muted);font-size:13px}
    @media (max-width:420px){.verb-large{font-size:28px}}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1></h1>
      <div class="muted"></div>
    </header>

    <div class="card" id="card">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div class="muted">åºå· <span id="index">1</span> / 150</div>
        <div class="muted">å·²ç­”å¯¹ <span id="correctCount">0</span></div>
      </div>

      <div style="text-align:center;margin-top:8px">
        <div class="verb-large" id="baseVerb">be</div>
        <div class="muted" id="hint"></div>
        <div class="muted" id="meaning">æ˜¯ï¼Œå­˜åœ¨</div>
      </div>

      <div style="margin-top:8px">
        <select id="verbSelect"><option value="all">é€‰æ‹©åŠ¨è¯ç»ƒä¹ </option><option value="0">be - æ˜¯ï¼Œå­˜åœ¨</option><option value="1">have - æœ‰</option><option value="2">do - åš</option><option value="3">say - è¯´</option><option value="4">go - å»</option><option value="5">get - å¾—åˆ°</option><option value="6">make - åˆ¶é€ </option><option value="7">know - çŸ¥é“</option><option value="8">think - æƒ³</option><option value="9">take - æ‹¿</option><option value="10">see - çœ‹è§</option><option value="11">come - æ¥</option><option value="12">find - æ‰¾åˆ°</option><option value="13">give - ç»™</option><option value="14">tell - å‘Šè¯‰</option><option value="15">become - å˜æˆ</option><option value="16">show - æ˜¾ç¤º</option><option value="17">leave - ç¦»å¼€</option><option value="18">feel - æ„Ÿè§‰</option><option value="19">put - æ”¾</option></select>
      </div>

      <div style="margin-top:12px">
        <label class="muted">è¿‡å»å¼ (Past Simple)</label>
        <input id="pastInput" type="text" autocomplete="off" autocapitalize="none" autocorrect="off" placeholder="" class="ok">
      </div>

      <div style="margin-top:10px">
        <label class="muted">è¿‡å»åˆ†è¯ (Past Participle)</label>
        <input id="ppInput" type="text" autocomplete="off" autocapitalize="none" autocorrect="off" placeholder="" class="ok">
      </div>

      <div class="controls">
        <button id="checkBtn">æ£€æŸ¥</button>
        <button class="secondary" id="nextBtn">ä¸‹ä¸€ä¸ª</button>
        <button class="secondary" id="showBtn">æ˜¾ç¤ºç­”æ¡ˆ</button>
        <button class="secondary" id="shuffleBtn">éšæœºé¡ºåº</button>
      </div>

      <div class="status">
        <div class="dot" id="dot" style="background: var(--accent);"></div>
        <div id="message">å·²æ˜¾ç¤ºç­”æ¡ˆ</div>
      </div>

      <div class="progress" aria-hidden="true">
        <i id="prog" style="width:0%"></i>
      </div>
    </div>

    <footer>
      
    </footer>
  </div>

  <script>
    const verbs = [
      {base:'be', past:'was/were', pp:'been', meaning:'æ˜¯ï¼Œå­˜åœ¨'},
      {base:'have', past:'had', pp:'had', meaning:'æœ‰'},
      {base:'do', past:'did', pp:'done', meaning:'åš'},
      {base:'say', past:'said', pp:'said', meaning:'è¯´'},
      {base:'go', past:'went', pp:'gone', meaning:'å»'},
      {base:'get', past:'got', pp:'got/gotten', meaning:'å¾—åˆ°'},
      {base:'make', past:'made', pp:'made', meaning:'åˆ¶é€ '},
      {base:'know', past:'knew', pp:'known', meaning:'çŸ¥é“'},
      {base:'think', past:'thought', pp:'thought', meaning:'æƒ³'},
      {base:'take', past:'took', pp:'taken', meaning:'æ‹¿'},
      {base:'see', past:'saw', pp:'seen', meaning:'çœ‹è§'},
      {base:'come', past:'came', pp:'come', meaning:'æ¥'},
      {base:'find', past:'found', pp:'found', meaning:'æ‰¾åˆ°'},
      {base:'give', past:'gave', pp:'given', meaning:'ç»™'},
      {base:'tell', past:'told', pp:'told', meaning:'å‘Šè¯‰'},
      {base:'become', past:'became', pp:'become', meaning:'å˜æˆ'},
      {base:'show', past:'showed', pp:'shown', meaning:'æ˜¾ç¤º'},
      {base:'leave', past:'left', pp:'left', meaning:'ç¦»å¼€'},
      {base:'feel', past:'felt', pp:'felt', meaning:'æ„Ÿè§‰'},
      {base:'put', past:'put', pp:'put', meaning:'æ”¾'},
      // æ­¤å¤„çœç•¥å‰©ä½™åŠ¨è¯ï¼Œå¯æŒ‰åŸæœ‰åˆ—è¡¨æ·»åŠ å« meaning
    ];

    let order = Array.from({length: verbs.length}, (_,i)=>i);
    let idx = 0;
    let correctCount = 0;

    const baseEl = document.getElementById('baseVerb');
    const indexEl = document.getElementById('index');
    const pastInput = document.getElementById('pastInput');
    const ppInput = document.getElementById('ppInput');
    const checkBtn = document.getElementById('checkBtn');
    const nextBtn = document.getElementById('nextBtn');
    const showBtn = document.getElementById('showBtn');
    const shuffleBtn = document.getElementById('shuffleBtn');
    const message = document.getElementById('message');
    const dot = document.getElementById('dot');
    const prog = document.getElementById('prog');
    const correctCountEl = document.getElementById('correctCount');
    const meaningEl = document.getElementById('meaning');
    const verbSelect = document.getElementById('verbSelect');

    verbs.forEach((v,i)=>{
      const option = document.createElement('option');
      option.value=i; option.textContent=v.base+' - '+v.meaning;
      verbSelect.appendChild(option);
    });

    verbSelect.addEventListener('change',()=>{
      const val = verbSelect.value;
      if(val==='all') idx=0; else idx=parseInt(val);
      render();
    });

    function render(){
      const i = order[idx];
      const v = verbs[i];
      baseEl.textContent = v.base;
      meaningEl.textContent = v.meaning;
      indexEl.textContent = idx + 1;
      pastInput.value = '';
      ppInput.value = '';
      pastInput.className = '';
      ppInput.className = '';
      message.textContent = 'ç­‰å¾…è¾“å…¥ â†’ è¾“å…¥åç‚¹å‡»"æ£€æŸ¥"æˆ–æŒ‰å›è½¦';
      dot.style.background = '#ffd43b';
      updateProgress();
      pastInput.focus();
    }

    function normalize(s){return (s||'').trim().toLowerCase();}
    function acceptedAnswers(text){return text.split('/').map(x=>x.trim().toLowerCase());}

    function check(){
      const i = order[idx];
      const v = verbs[i];
      const userPast = normalize(pastInput.value);
      const userPP = normalize(ppInput.value);
      const pastOpts = acceptedAnswers(v.past);
      const ppOpts = acceptedAnswers(v.pp);
      const pastOK = pastOpts.includes(userPast);
      const ppOK = ppOpts.includes(userPP);
      pastInput.className = pastOK? 'ok' : 'bad';
      ppInput.className = ppOK? 'ok' : 'bad';
      if(pastOK && ppOK){
        message.textContent = 'å›ç­”æ­£ç¡® ğŸ‰ğŸ‰ğŸ‰';
        dot.style.background = 'var(--ok)';
        correctCount += 1;
        correctCountEl.textContent = correctCount;
        setTimeout(()=>{ next(false); }, 500);
      } else {
        message.textContent = 'æœ‰é”™è¯¯ï¼Œè¯·æ£€æŸ¥çº¢è‰²æ¡†æˆ–ç‚¹å‡»"æ˜¾ç¤ºç­”æ¡ˆ"æŸ¥çœ‹æ­£ç¡®ç­”æ¡ˆ';
        dot.style.background = 'var(--bad)';
      }
    }

    function next(forceShuffleIfEnd=true){
      idx++; if(idx>=order.length){
        message.textContent='ç»ƒä¹ å®Œæˆã€‚ç‚¹å‡»"éšæœºé¡ºåº"å†æ¬¡å¼€å§‹æˆ–ç‚¹å‡»"ä¸‹ä¸€ä¸ª"é‡æ–°å¼€å§‹ã€‚';
        dot.style.background='var(--muted)';
        idx=0; correctCount=0; correctCountEl.textContent=correctCount;
        if(forceShuffleIfEnd) shuffleOrder();
      }
      render();
    }

    function showAnswer(){
      const i = order[idx]; const v = verbs[i];
      pastInput.value = v.past; ppInput.value = v.pp;
      pastInput.className = 'ok'; ppInput.className='ok';
      message.textContent = 'å·²æ˜¾ç¤ºç­”æ¡ˆ'; dot.style.background='var(--accent)';
    }

    function shuffleOrder(){
      for(let i=order.length-1;i>0;i--){
        const j=Math.floor(Math.random()*(i+1)); [order[i],order[j]]=[order[j],order[i]];
      }
      idx=0; correctCount=0; correctCountEl.textContent=correctCount;
      render();
    }

    function updateProgress(){const percent=Math.round((idx/order.length)*100); prog.style.width=percent+'%';}

    checkBtn.addEventListener('click', check);
    nextBtn.addEventListener('click', ()=>next(true));
    showBtn.addEventListener('click', showAnswer);
    shuffleBtn.addEventListener('click', ()=>{ shuffleOrder(); message.textContent='å·²éšæœºæ‰“ä¹±é¡ºåº'; });
    [pastInput, ppInput].forEach(inp=>{inp.addEventListener('keydown',(e)=>{if(e.key==='Enter'){check();}});});

    render();
    if('wakeLock' in navigator){try{navigator.wakeLock.request('screen');}catch(e){}}
  </script>
</body>
</html>